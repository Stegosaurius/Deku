<div class="editProfile section">

  <div class="row z-depth-1 user-meta">

    <form class="col m5" name="editProfile.form" ng-submit="editProfile.updateProfile()">

      <div class="row"> 
      
        <div class="col m5 avatar-container">

          <img class="avatar responsive-img" src="{{ editProfile.avatar }}">

          <a class="update-avatar" href="#avatarModal" modal>Update</a>

          <!-- Modal Structure -->
          <div id="avatarModal" class="modal">
              <div class="modal-content">
                  <h4>Add a profile picture!</h4>
                  <input ng-model="editProfile.avatarPath" placeholder="write the path to your avatar here">
                  <button type="button" ng-click="editProfile.addAvatarPath()" class="modal-close">Upload</button></a>

              </div>
              <div class="modal-footer">
                  <!-- <a class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a> -->
              </div>
          </div>

          <!-- <button type="button" ng-click="editProfile.updateAvatar()" class="update-avatar">Update</button> -->
          
        </div>

        <div class="col m7">

          <h4>{{ editProfile.username }}</h4>
          <h5>Location</h5>
          <input type="text" ng-model="editProfile.location"  placeholder="Where are you based?"><br>
          <!-- <input type="text" ng-model="editProfile.about" placeholder="Tell us about yourself"><br>   --> 
          
        </div>

      </div>

      <div class="row">

        <p>About</p>
        <!-- <input type="text" ng-model="editProfile.about" placeholder="Where are you based?"> -->
        <textarea rows="2" cols="20" wrap="hard" ng-model="editProfile.about" placeholder="Where are you based?">{{ editProfile.about }}</textarea><br>
        <button type="submit">Update!</button><br>

      </div>
      <!-- <p>{{ editProfile.message }}</p> -->
    </form>
    
    <div class="user-photos-container col m7">
      <ul class="user-photos">
        <li ng-repeat="photo in editProfile.photos">
          <img class="photo" ng-src="{{ photo.photo }}"/>
          <a ng-click="editProfile.deletePhoto(photo.id)" class="btn-floating btn-small waves-effect waves-light">
            <i class="material-icons remove-photo">clear</i>
          </a>
        </li>
      </ul>
    </div>

    <div class="row">
      <!-- Modal Trigger -->
      <div class="col right">
          <a class="add-photo" href="#demoModal" modal>Add a photo</a>
      </div>
      <!-- Modal Structure -->
      <div id="demoModal" class="modal right">
          <div class="modal-content">
              <h4>Add a greenhouse photo!</h4>
              <p>Or whatever else you see fit</p>
              <form ng-submit="editProfile.addPhotoByPath()">
                <input ng-model="editProfile.photoPath" placeholder="write the path to your photo here">
                <button type="submit" class="modal-close">Upload</button></a>
              </form>

              <form ng-submit="editProfile.addPhotoByUpload(file)">
                Single Image
                <div class="btn btn-default" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'"
                  accept="image/*" ngf-max-size="20MB" ngf-min-height="100" 
                  ngf-resize="{width: 100, height: 100}">Select {{ file }}</div>

                Drop files: <div ngf-drop ng-model="file" class="drop-box">Drop</div>
                <button type="submit" ng-click="submit()">submit</button>
              </form>

          </div>
          <div class="modal-footer">
              <!-- <a class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a> -->
          </div>
      </div>


    </div>

  </div>

  <div class="row z-depth-1"> 

    <div class="col m6">
      
      <p>Tags</p>

      <ul class="tags">
        <li class="tag" ng-repeat="tag in editProfile.tags">
          <span>{{ tag.tag }}</span>
          <a ng-click="editProfile.removeTag(tag)" class="remove-item">
            <i class="tiny material-icons">clear</i>
          </a>
        </li>
      </ul> 
      
      <form class="tag-form" name="editProfile.tagForm" ng-submit="editProfile.addTag()">
          <input type="text" ng-model="editProfile.newTag" placeholder="Add a new tag">
          <!-- <button class="waves-effect waves-light btn" type="submit">Add</button> -->
          <a ng-click="editProfile.addTag()" class="btn-floating btn-small waves-effect waves-light">
            <i class="material-icons add-tag">add</i>
          </a>

      </form>

    </div>

    <div class="col m6 valign-wrapper">
      <div class="follow-container col m6">
        <span class="follow-header">Followers</span>
        <ul class="follow">
          <li ng-repeat="follower in editProfile.followers">
            <span> {{ follower }} </span>
          </li>
        </ul>
      </div>
      <div class="follow-container col m6">
        <span class="follow-header">Following</span>
        <ul class="follow">
          <li ng-repeat="followee in editProfile.followees">
            <span> {{ followee }} </span>
            <a ng-click="editProfile.unfollow(followee)" class="remove-item">
              <i class="tiny material-icons">clear</i>
            </a>
          </li>
        </ul>
      </div>

    </div>

  </div>

</div>
